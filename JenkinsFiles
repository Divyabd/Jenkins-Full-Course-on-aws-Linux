pipeline{
    agent any
    tools{
        maven 'maven3'
    }
        stages{
            stage("sonartest"){
                steps{
                    withSonarQubeEnv('sonarQube') {
       sh 'mvn -f Maven/pom.xml clean install package sonar:sonar'
}
                }
            }

     stage("Quality Gate") {
            steps {
                 
                
                    // Parameter indicates whether to set pipeline to UNSTABLE if Quality Gate fails
                    // true = set pipeline to UNSTABLE, false = don't
                    waitForQualityGate abortPipeline: false, credentialsId: 'jenkins-sonarqube'
                
           
                
        }
        }
    
}
}